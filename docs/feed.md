# How to add an Atom Feed to your Helix Pages website

An Atom feed allows visitors to your site to subscribe to updates and new pages, which increases repeat visits and improves customer retention.

## Prerequisites

You need a data source which lists page URLs, page titles, and page update times as a JSON feed. This could be an Excel, Algolia, or Azure Cognitive Search index generated by the Helix Bot. Remember the URL of that JSON feed.

## Instructions

1. Add a file `feed.xml` to the root of your GitHub repository. You can use the [template](#xml-template) below.
2. Replace the `Example Feed` with the name of your site. The value of this tag will be shown to users in teir feed readers
3. Replace the `https://example.org/` (both occurences) with the URL of your site
4. Replace the URL parameter values after `/cgi-bin/feed.xml` with:
  * `src` should be the URL encoded relative path of your JSON data source (note how you an use `limit` to control how many articles to show)
  * `id` should be the name of the property in your JSON feed that has the path of the page (something like `en/publish/2020/08/03/adobe-portfolio-is-now-free-for-1-year-for-2020-college-grads.html`)
  * `title` should be the name of the property in your JSON feed that has the title of the page (e.g. ‟Adobe Portfolio is Now Free for 1 Year for 2020 College Grads”)
  * `updated` should be the name of the property in your JSON feed that has the publication date of the page either as a UNIX timestamp (like `1596412800`) or as a RFC2822 string (like `04 Dec 1995 00:12:00 GMT`)
5. Commit and push to GitHub
6. Try `https://<repo>-<owner>.hlx.page/feed.xml`
7. (Optionally) add a link like `<link href="feed.xml" type="application/atom+xml" rel="alternate" title="Sitewide Atom feed" />` to your `head.html` so that feed readers can find the feed automatically

### XML Template

```xml
<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Example Feed</title>
  <link href="https://example.org/"/>
  <id>https://example.org/</id>
  <esi:include src="/cgi-bin/feed.xml?src=/en/query-index.json%3Flimit%3D10&amp;id=path&amp;title=title&amp;updated=date">
</feed>
```

## FAQ

### Can I add more than one feed to a site?

Yes, just repeat the steps above with a different file name and source URL

### Does Helix Pages support RSS Feeds?

No, RSS Feeds are not supported by Helix Pages, use Atom feeds instead.
